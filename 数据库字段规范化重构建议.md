# æ•°æ®åº“å­—æ®µè§„èŒƒåŒ–é‡æ„å»ºè®®

## ğŸ“‹ é—®é¢˜æ€»ç»“

å½“å‰æ•°æ®åº“å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š
1. **å­—æ®µæ··ä¹±**ï¼š`category`ã€`grammarPoint`ã€`tag` ä¸‰ä¸ªå­—æ®µæ··ç”¨ï¼Œæ²¡æœ‰æ¸…æ™°çš„èŒè´£åˆ’åˆ†
2. **å±‚çº§ä¸æ¸…**ï¼š`category` æ—¢åŒ…å«å¤§ç±»ï¼ˆå¦‚"åŠ¨è¯ç»¼åˆ"ï¼‰ä¹ŸåŒ…å«å°ç±»ï¼ˆå¦‚"whose"ã€"how"ï¼‰
3. **æ•°æ®ç¼ºå¤±**ï¼š70.93% çš„é¢˜ç›®ç¼ºå°‘ `grammarPoint` å­—æ®µ
4. **æ‰©å±•å›°éš¾**ï¼šæ–°å¢çŸ¥è¯†ç‚¹æ—¶ä¸çŸ¥é“åº”è¯¥ç”¨å“ªä¸ªå­—æ®µï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´

---

## ğŸ¯ ç›®æ ‡æ•°æ®ç»“æ„è®¾è®¡

### æ ¸å¿ƒåŸåˆ™

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªå­—æ®µæœ‰æ˜ç¡®çš„ç”¨é€”
2. **å±‚çº§æ¸…æ™°**ï¼šå¤§ç±» â†’ å°ç±»çš„å±‚çº§å…³ç³»æ˜ç¡®
3. **å‘åå…¼å®¹**ï¼šè¿ç§»è¿‡ç¨‹ä¸­ä¿æŒæŸ¥è¯¢åŠŸèƒ½æ­£å¸¸
4. **æ˜“äºæ‰©å±•**ï¼šæ–°å¢çŸ¥è¯†ç‚¹æ—¶æœ‰æ˜ç¡®çš„è§„èŒƒ

### æ¨èçš„æ•°æ®ç»“æ„

```javascript
{
  // æ ¸å¿ƒå­—æ®µ
  category: "åè¯",              // ä¸€çº§åˆ†ç±»ï¼šå¤§ç±»ï¼ˆ10-15ä¸ªå›ºå®šå€¼ï¼‰
  grammarPoint: "åè¯çš„å¤æ•°",    // äºŒçº§åˆ†ç±»ï¼šå…·ä½“è¯­æ³•ç‚¹ï¼ˆ50-100ä¸ªå€¼ï¼‰
  
  // å…¼å®¹å­—æ®µï¼ˆé€æ­¥åºŸå¼ƒï¼‰
  tag: null,                     // åºŸå¼ƒï¼Œç»Ÿä¸€ä½¿ç”¨ grammarPoint
  
  // å…¶ä»–å­—æ®µ
  text: "...",
  answer: "...",
  // ...
}
```

### æ ‡å‡†åˆ†ç±»ä½“ç³»

#### ä¸€çº§åˆ†ç±»ï¼ˆCategoryï¼‰- å›ºå®šåˆ—è¡¨

```javascript
const CATEGORIES = [
  "åè¯",
  "ä»£è¯", 
  "åŠ¨è¯",
  "å½¢å®¹è¯ä¸å‰¯è¯",
  "ä»‹è¯",
  "å† è¯",
  "æ•°è¯",
  "è¿è¯",
  "å¥å­æˆåˆ†ä¸åŸºæœ¬å¥å‹",
  "åŠ¨è¯æ—¶æ€",
  "è¢«åŠ¨è¯­æ€",
  "ä¸»è°“ä¸€è‡´",
  "éè°“è¯­",
  "å¤åˆå¥",
  "ç‰¹æ®Šå¥å¼"
];
```

#### äºŒçº§åˆ†ç±»ï¼ˆGrammarPointï¼‰- ç¤ºä¾‹

```javascript
const GRAMMAR_POINTS = {
  "åè¯": [
    "åè¯æ‰€æœ‰æ ¼",
    "åè¯çš„å¤æ•°",
    "åè¯è¾¨æ"
  ],
  "ä»£è¯": [
    "äººç§°ä»£è¯",
    "ç‰©ä¸»ä»£è¯", 
    "åèº«ä»£è¯",
    "ä¸å®šä»£è¯",
    "å…³ç³»ä»£è¯"
  ],
  "åŠ¨è¯": [
    "åŠ¨è¯çš„å½¢å¼",
    "æƒ…æ€åŠ¨è¯",
    "éè°“è¯­åŠ¨è¯"
  ],
  // ... å…¶ä»–åˆ†ç±»
};
```

---

## ğŸš€ å®æ–½ç­–ç•¥ï¼ˆåˆ†é˜¶æ®µè¿›è¡Œï¼‰

### é˜¶æ®µä¸€ï¼šå»ºç«‹æ ‡å‡†è§„èŒƒï¼ˆ1å‘¨ï¼‰

**ç›®æ ‡**ï¼šå®šä¹‰æ¸…æ™°çš„æ•°æ®è§„èŒƒï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½

**æ­¥éª¤**ï¼š

1. **åˆ›å»ºæ ‡å‡†åˆ†ç±»é…ç½®æ–‡ä»¶**
   ```javascript
   // utils/grammarTaxonomy.js
   export const GRAMMAR_TAXONOMY = {
     categories: [...],           // ä¸€çº§åˆ†ç±»åˆ—è¡¨
     grammarPoints: {...},        // äºŒçº§åˆ†ç±»æ˜ å°„
     categoryToGrammarPoints: {...} // category â†’ grammarPoints æ˜ å°„
   };
   ```

2. **åˆ›å»ºæ•°æ®éªŒè¯å·¥å…·**
   ```javascript
   // utils/dataValidator.js
   export function validateQuestion(question) {
     // éªŒè¯ category æ˜¯å¦åœ¨æ ‡å‡†åˆ—è¡¨ä¸­
     // éªŒè¯ grammarPoint æ˜¯å¦å±äºå¯¹åº”çš„ category
     // è¿”å›éªŒè¯ç»“æœå’Œå»ºè®®
   }
   ```

3. **æ›´æ–°æ–‡æ¡£**
   - æ˜ç¡®å­—æ®µä½¿ç”¨è§„èŒƒ
   - æä¾›ç¤ºä¾‹ä»£ç 
   - å»ºç«‹å‘½åçº¦å®š

**äº§å‡º**ï¼š
- âœ… æ ‡å‡†åˆ†ç±»é…ç½®æ–‡ä»¶
- âœ… æ•°æ®éªŒè¯å·¥å…·
- âœ… å¼€å‘æ–‡æ¡£

---

### é˜¶æ®µäºŒï¼šæ•°æ®è¿ç§»å‡†å¤‡ï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**ï¼šåˆ†æç°æœ‰æ•°æ®ï¼Œåˆ¶å®šè¿ç§»è®¡åˆ’

**æ­¥éª¤**ï¼š

1. **æ•°æ®ç»Ÿè®¡åˆ†æè„šæœ¬**
   ```javascript
   // scripts/analyzeDataStructure.js
   // åˆ†æï¼š
   // - æ‰€æœ‰ category å€¼åŠå…¶åˆ†å¸ƒ
   // - æ‰€æœ‰ grammarPoint/tag å€¼åŠå…¶åˆ†å¸ƒ
   // - éœ€è¦è¿ç§»çš„æ•°æ®é‡
   // - æ•°æ®è´¨é‡æŠ¥å‘Š
   ```

2. **åˆ›å»ºè¿ç§»æ˜ å°„è¡¨**
   ```javascript
   // scripts/migrationMapping.js
   const MIGRATION_MAP = {
     // æ—§å€¼ â†’ æ–°å€¼æ˜ å°„
     "theçš„ç‰¹æ®Šç”¨æ³•": {
       category: "å† è¯",
       grammarPoint: "å®šå† è¯"
     },
     "f/feç»“å°¾": {
       category: "åè¯", 
       grammarPoint: "åè¯çš„å¤æ•°"
     },
     // ...
   };
   ```

3. **ç”Ÿæˆè¿ç§»è®¡åˆ’**
   - è¯†åˆ«éœ€è¦è¿ç§»çš„é¢˜ç›®
   - ä¼°ç®—è¿ç§»å·¥ä½œé‡
   - åˆ¶å®šåˆ†æ‰¹è¿ç§»è®¡åˆ’

**äº§å‡º**ï¼š
- âœ… æ•°æ®ç»Ÿè®¡æŠ¥å‘Š
- âœ… è¿ç§»æ˜ å°„è¡¨
- âœ… è¿ç§»è®¡åˆ’æ–‡æ¡£

---

### é˜¶æ®µä¸‰ï¼šæ¸è¿›å¼æ•°æ®è¿ç§»ï¼ˆ2-4å‘¨ï¼‰

**ç›®æ ‡**ï¼šé€æ­¥è§„èŒƒåŒ–æ•°æ®ï¼Œä¿æŒç³»ç»Ÿç¨³å®š

**ç­–ç•¥**ï¼š**åˆ†æ‰¹è¿ç§» + åŒå†™ç­–ç•¥**

#### 3.1 è¿ç§»è„šæœ¬è®¾è®¡

```javascript
// scripts/migrateQuestions.js

/**
 * è¿ç§»ç­–ç•¥ï¼š
 * 1. è¯»å–æ—§æ•°æ®ï¼ˆcategory/grammarPoint/tagï¼‰
 * 2. æ ¹æ®æ˜ å°„è¡¨è½¬æ¢ä¸ºæ–°æ ¼å¼
 * 3. åŒæ—¶å†™å…¥æ–°å­—æ®µï¼ˆcategory_new, grammarPoint_newï¼‰
 * 4. éªŒè¯æ•°æ®æ­£ç¡®æ€§
 * 5. ç¡®è®¤æ— è¯¯åï¼Œæ‰¹é‡æ›´æ–°æ­£å¼å­—æ®µ
 */

async function migrateBatch(categoryName, dryRun = true) {
  // 1. æŸ¥è¯¢è¯¥åˆ†ç±»ä¸‹çš„æ‰€æœ‰é¢˜ç›®
  const questions = await db.collection('questions')
    .where({ category: categoryName })
    .get();
  
  // 2. åº”ç”¨è¿ç§»è§„åˆ™
  const updates = questions.data.map(q => {
    const mapping = getMigrationMapping(q);
    return {
      _id: q._id,
      category: mapping.category,
      grammarPoint: mapping.grammarPoint,
      // ä¿ç•™æ—§å­—æ®µç”¨äºå›æ»š
      category_old: q.category,
      grammarPoint_old: q.grammarPoint || q.tag
    };
  });
  
  // 3. éªŒè¯è¿ç§»ç»“æœ
  const validation = validateMigration(updates);
  if (!validation.valid) {
    console.error('è¿ç§»éªŒè¯å¤±è´¥:', validation.errors);
    return;
  }
  
  // 4. æ‰§è¡Œè¿ç§»ï¼ˆå¦‚æœä¸æ˜¯ dryRunï¼‰
  if (!dryRun) {
    await batchUpdate(updates);
  }
  
  return { migrated: updates.length, category: categoryName };
}
```

#### 3.2 åˆ†æ‰¹è¿ç§»è®¡åˆ’

**ä¼˜å…ˆçº§æ’åº**ï¼š
1. **é«˜ä¼˜å…ˆçº§**ï¼šæ•°æ®é‡å¤§çš„åˆ†ç±»ï¼ˆå¦‚"åè¯ç»¼åˆ"ã€"åŠ¨è¯ç»¼åˆ"ï¼‰
2. **ä¸­ä¼˜å…ˆçº§**ï¼šæ•°æ®é‡ä¸­ç­‰çš„åˆ†ç±»
3. **ä½ä¼˜å…ˆçº§**ï¼šæ•°æ®é‡å°çš„åˆ†ç±»å’Œç‰¹æ®Šåˆ†ç±»

**è¿ç§»é¡ºåºç¤ºä¾‹**ï¼š
```
Week 1: åè¯ç›¸å…³ï¼ˆåè¯ç»¼åˆã€åè¯å¤æ•°ç­‰ï¼‰
Week 2: ä»£è¯ç›¸å…³ï¼ˆä»£è¯ç»¼åˆã€ç‰©ä¸»ä»£è¯ç­‰ï¼‰
Week 3: åŠ¨è¯ç›¸å…³ï¼ˆåŠ¨è¯ç»¼åˆã€æ—¶æ€ç­‰ï¼‰
Week 4: å…¶ä»–åˆ†ç±»
```

#### 3.3 è¿ç§»éªŒè¯

æ¯æ¬¡è¿ç§»åï¼š
1. **æ•°æ®éªŒè¯**ï¼šæ£€æŸ¥è¿ç§»åçš„æ•°æ®æ˜¯å¦ç¬¦åˆè§„èŒƒ
2. **åŠŸèƒ½éªŒè¯**ï¼šæµ‹è¯•æŸ¥è¯¢åŠŸèƒ½æ˜¯å¦æ­£å¸¸
3. **å›æ»šå‡†å¤‡**ï¼šä¿ç•™æ—§æ•°æ®ï¼Œç¡®ä¿å¯ä»¥å›æ»š

---

### é˜¶æ®µå››ï¼šæŸ¥è¯¢é€»è¾‘é‡æ„ï¼ˆ1-2å‘¨ï¼‰

**ç›®æ ‡**ï¼šç®€åŒ–æŸ¥è¯¢é€»è¾‘ï¼Œæé«˜æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§

#### 4.1 æ–°çš„æŸ¥è¯¢é€»è¾‘

```javascript
// utils/cloudDataLoader.js

/**
 * æ–°çš„æŸ¥è¯¢ç­–ç•¥ï¼š
 * 1. ä¼˜å…ˆä½¿ç”¨ grammarPoint ç²¾ç¡®æŸ¥è¯¢
 * 2. å¦‚æœæ²¡æœ‰ grammarPointï¼Œä½¿ç”¨ category æŸ¥è¯¢
 * 3. å…¼å®¹æ—§æ•°æ®ï¼šåŒæ—¶æŸ¥è¯¢ category å’Œ grammarPointï¼ˆè¿‡æ¸¡æœŸï¼‰
 */

async function getQuestionsByGrammarPoint(grammarPoint, schoolLevel, type) {
  const db = wx.cloud.database();
  const _ = db.command;
  
  // 1. ä»æ ‡å‡†é…ç½®è·å–å¯¹åº”çš„ category
  const category = getCategoryFromGrammarPoint(grammarPoint);
  
  // 2. æ„å»ºæŸ¥è¯¢æ¡ä»¶
  const conditions = [
    // æ–°æ ¼å¼ï¼šåŒæ—¶åŒ¹é… category å’Œ grammarPoint
    {
      category: category,
      grammarPoint: grammarPoint
    },
    // å…¼å®¹æ—§æ ¼å¼ï¼šgrammarPoint å­—æ®µåŒ¹é…
    {
      grammarPoint: grammarPoint
    },
    // å…¼å®¹æ—§æ ¼å¼ï¼šcategory å­—æ®µåŒ¹é…ï¼ˆè¿‡æ¸¡æœŸï¼‰
    {
      category: grammarPoint  // æŸäº›æ—§æ•°æ® grammarPoint å­˜åœ¨ category ä¸­
    }
  ];
  
  // 3. ä½¿ç”¨ OR æŸ¥è¯¢ï¼ˆè¿‡æ¸¡æœŸï¼‰
  const result = await db.collection('questions')
    .where(_.or(conditions))
    .where({ schoolLevel })
    .where({ type })
    .limit(limit)
    .get();
  
  return result.data;
}
```

#### 4.2 æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–

1. **ç´¢å¼•ä¼˜åŒ–**
   ```javascript
   // ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µåˆ›å»ºç´¢å¼•
   db.collection('questions').createIndex({
     category: 1,
     grammarPoint: 1,
     schoolLevel: 1,
     type: 1
   });
   ```

2. **æŸ¥è¯¢ç¼“å­˜**
   ```javascript
   // ç¼“å­˜å¸¸ç”¨æŸ¥è¯¢ç»“æœ
   const cache = new Map();
   function getCachedQuestions(key, queryFn) {
     if (cache.has(key)) return cache.get(key);
     const result = queryFn();
     cache.set(key, result);
     return result;
   }
   ```

---

### é˜¶æ®µäº”ï¼šæ¸…ç†å’Œä¼˜åŒ–ï¼ˆ1å‘¨ï¼‰

**ç›®æ ‡**ï¼šç§»é™¤åºŸå¼ƒå­—æ®µï¼Œä¼˜åŒ–æ•°æ®ç»“æ„

**æ­¥éª¤**ï¼š

1. **ç§»é™¤ tag å­—æ®µ**
   ```javascript
   // ç¡®è®¤æ‰€æœ‰æ•°æ®éƒ½å·²è¿ç§»åˆ° grammarPoint
   // æ‰¹é‡ç§»é™¤ tag å­—æ®µ
   await db.collection('questions')
     .where({ tag: _.exists(true) })
     .update({
       data: { tag: _.remove() }
     });
   ```

2. **ç§»é™¤ä¸´æ—¶å­—æ®µ**
   - ç§»é™¤ `category_old`ã€`grammarPoint_old` ç­‰ä¸´æ—¶å­—æ®µ

3. **æ•°æ®è´¨é‡æ£€æŸ¥**
   - æ£€æŸ¥æ˜¯å¦æœ‰é—æ¼çš„æ•°æ®
   - éªŒè¯æ•°æ®å®Œæ•´æ€§
   - ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š

---

## ğŸ“ ä»£ç é‡æ„å»ºè®®

### 1. ç»Ÿä¸€æ•°æ®è®¿é—®å±‚

```javascript
// utils/questionRepository.js

class QuestionRepository {
  /**
   * ç»Ÿä¸€çš„æŸ¥è¯¢æ¥å£
   * å†…éƒ¨å¤„ç†æ‰€æœ‰å…¼å®¹æ€§é€»è¾‘
   */
  async findByGrammarPoint(grammarPoint, options = {}) {
    // ç»Ÿä¸€çš„æŸ¥è¯¢é€»è¾‘
    // è‡ªåŠ¨å¤„ç†æ–°æ—§æ•°æ®æ ¼å¼
  }
  
  /**
   * ç»Ÿä¸€çš„æ•°æ®å†™å…¥æ¥å£
   * è‡ªåŠ¨éªŒè¯å’Œè§„èŒƒåŒ–æ•°æ®
   */
  async create(question) {
    // éªŒè¯æ•°æ®æ ¼å¼
    const validated = this.validate(question);
    // è§„èŒƒåŒ–æ•°æ®
    const normalized = this.normalize(validated);
    // å†™å…¥æ•°æ®åº“
    return await db.collection('questions').add({ data: normalized });
  }
  
  /**
   * æ•°æ®éªŒè¯
   */
  validate(question) {
    // éªŒè¯ category æ˜¯å¦åœ¨æ ‡å‡†åˆ—è¡¨ä¸­
    // éªŒè¯ grammarPoint æ˜¯å¦å±äºå¯¹åº”çš„ category
    // è¿”å›éªŒè¯ç»“æœ
  }
  
  /**
   * æ•°æ®è§„èŒƒåŒ–
   */
  normalize(question) {
    // ç»Ÿä¸€å­—æ®µå‘½å
    // è¡¥å……ç¼ºå¤±å­—æ®µ
    // è½¬æ¢æ—§æ ¼å¼åˆ°æ–°æ ¼å¼
  }
}
```

### 2. é…ç½®ç®¡ç†

```javascript
// config/grammarConfig.js

export const GRAMMAR_CONFIG = {
  // æ ‡å‡†åˆ†ç±»åˆ—è¡¨
  categories: [
    "åè¯", "ä»£è¯", "åŠ¨è¯", "å½¢å®¹è¯ä¸å‰¯è¯", 
    "ä»‹è¯", "å† è¯", "æ•°è¯", "è¿è¯",
    "å¥å­æˆåˆ†ä¸åŸºæœ¬å¥å‹", "åŠ¨è¯æ—¶æ€", "è¢«åŠ¨è¯­æ€",
    "ä¸»è°“ä¸€è‡´", "éè°“è¯­", "å¤åˆå¥", "ç‰¹æ®Šå¥å¼"
  ],
  
  // åˆ†ç±»åˆ°è¯­æ³•ç‚¹çš„æ˜ å°„
  categoryToGrammarPoints: {
    "åè¯": ["åè¯æ‰€æœ‰æ ¼", "åè¯çš„å¤æ•°", "åè¯è¾¨æ"],
    "ä»£è¯": ["äººç§°ä»£è¯", "ç‰©ä¸»ä»£è¯", "åèº«ä»£è¯", "ä¸å®šä»£è¯", "å…³ç³»ä»£è¯"],
    // ...
  },
  
  // éªŒè¯å‡½æ•°
  isValidCategory(category) {
    return this.categories.includes(category);
  },
  
  isValidGrammarPoint(category, grammarPoint) {
    const grammarPoints = this.categoryToGrammarPoints[category] || [];
    return grammarPoints.includes(grammarPoint);
  }
};
```

### 3. æ•°æ®è¿ç§»å·¥å…·

```javascript
// scripts/migrationTool.js

class MigrationTool {
  /**
   * è¿ç§»å•ä¸ªåˆ†ç±»
   */
  async migrateCategory(categoryName, dryRun = true) {
    // å®ç°è¿ç§»é€»è¾‘
  }
  
  /**
   * æ‰¹é‡è¿ç§»
   */
  async migrateBatch(categories, dryRun = true) {
    // æ‰¹é‡è¿ç§»å¤šä¸ªåˆ†ç±»
  }
  
  /**
   * éªŒè¯è¿ç§»ç»“æœ
   */
  async validateMigration(categoryName) {
    // éªŒè¯è¿ç§»åçš„æ•°æ®æ˜¯å¦æ­£ç¡®
  }
  
  /**
   * å›æ»šè¿ç§»
   */
  async rollback(categoryName) {
    // å›æ»šåˆ°è¿ç§»å‰çš„çŠ¶æ€
  }
}
```

---

## âœ… æœ€ä½³å®è·µ

### 1. æ•°æ®å½•å…¥è§„èŒƒ

**æ–°å¢é¢˜ç›®æ—¶**ï¼š
```javascript
// âœ… æ­£ç¡®ç¤ºä¾‹
{
  category: "åè¯",              // ä½¿ç”¨æ ‡å‡†åˆ†ç±»
  grammarPoint: "åè¯çš„å¤æ•°",    // ä½¿ç”¨æ ‡å‡†è¯­æ³•ç‚¹
  // ...
}

// âŒ é”™è¯¯ç¤ºä¾‹
{
  category: "åè¯å¤æ•°",          // ä¸è¦åœ¨å°ç±»ä¸­ä½¿ç”¨ category
  grammarPoint: "åè¯",          // ä¸è¦åœ¨å¤§ç±»ä¸­ä½¿ç”¨ grammarPoint
  tag: "å¤æ•°"                    // ä¸è¦ä½¿ç”¨ tag å­—æ®µ
}
```

### 2. æŸ¥è¯¢è§„èŒƒ

**æŸ¥è¯¢æ—¶**ï¼š
```javascript
// âœ… æ¨èï¼šä½¿ç”¨ grammarPoint ç²¾ç¡®æŸ¥è¯¢
getQuestionsByGrammarPoint("åè¯çš„å¤æ•°", "middle", "choice")

// âœ… ä¹Ÿå¯ä»¥ï¼šä½¿ç”¨ category æŸ¥è¯¢å¤§ç±»
getQuestionsByCategory("åè¯", "middle", "choice")

// âŒ é¿å…ï¼šç›´æ¥æŸ¥è¯¢æ•°æ®åº“ï¼Œç»•è¿‡æ•°æ®è®¿é—®å±‚
db.collection('questions').where({ category: "åè¯å¤æ•°" })
```

### 3. æ‰©å±•è§„èŒƒ

**æ–°å¢çŸ¥è¯†ç‚¹æ—¶**ï¼š
1. å…ˆæ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨å¯¹åº”çš„ `category`
2. å¦‚æœä¸å­˜åœ¨ï¼Œå…ˆæ·»åŠ  `category` åˆ°æ ‡å‡†åˆ—è¡¨
3. åœ¨å¯¹åº”çš„ `category` ä¸‹æ·»åŠ  `grammarPoint`
4. æ›´æ–°é…ç½®æ–‡ä»¶
5. æ›´æ–°æ–‡æ¡£

---

## ğŸ” è¿ç§»æ£€æŸ¥æ¸…å•

### è¿ç§»å‰
- [ ] å¤‡ä»½æ•°æ®åº“
- [ ] åˆ›å»ºè¿ç§»æ˜ å°„è¡¨
- [ ] ç¼–å†™è¿ç§»è„šæœ¬
- [ ] åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯è¿ç§»è„šæœ¬
- [ ] åˆ¶å®šå›æ»šè®¡åˆ’

### è¿ç§»ä¸­
- [ ] åˆ†æ‰¹è¿ç§»ï¼Œæ¯æ¬¡è¿ç§»ä¸€ä¸ªåˆ†ç±»
- [ ] æ¯æ¬¡è¿ç§»åéªŒè¯æ•°æ®
- [ ] æµ‹è¯•æŸ¥è¯¢åŠŸèƒ½
- [ ] è®°å½•è¿ç§»æ—¥å¿—

### è¿ç§»å
- [ ] éªŒè¯æ‰€æœ‰æ•°æ®å·²è¿ç§»
- [ ] æ›´æ–°æŸ¥è¯¢é€»è¾‘
- [ ] ç§»é™¤åºŸå¼ƒå­—æ®µ
- [ ] æ›´æ–°æ–‡æ¡£
- [ ] é€šçŸ¥å›¢é˜Ÿæˆå‘˜

---

## ğŸ“Š é¢„æœŸæ”¶ç›Š

### çŸ­æœŸï¼ˆ1-2ä¸ªæœˆï¼‰
- âœ… æ•°æ®ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£
- âœ… æŸ¥è¯¢é€»è¾‘ç®€åŒ–ï¼Œå‡å°‘ bug
- âœ… æ•°æ®è´¨é‡æå‡

### é•¿æœŸï¼ˆ3-6ä¸ªæœˆï¼‰
- âœ… æ‰©å±•æ–°çŸ¥è¯†ç‚¹æ›´å®¹æ˜“
- âœ… ç»´æŠ¤æˆæœ¬é™ä½
- âœ… æŸ¥è¯¢æ€§èƒ½æå‡
- âœ… ä»£ç å¯ç»´æŠ¤æ€§æå‡

---

## âš ï¸ é£é™©æ§åˆ¶

### 1. æ•°æ®ä¸¢å¤±é£é™©
- **æªæ–½**ï¼šè¿ç§»å‰å®Œæ•´å¤‡ä»½ï¼Œä¿ç•™æ—§å­—æ®µä½œä¸ºå›æ»šä¾æ®

### 2. åŠŸèƒ½ä¸­æ–­é£é™©
- **æªæ–½**ï¼šä½¿ç”¨åŒå†™ç­–ç•¥ï¼Œæ–°æ—§æ ¼å¼åŒæ—¶æ”¯æŒï¼Œé€æ­¥åˆ‡æ¢

### 3. æ•°æ®ä¸ä¸€è‡´é£é™©
- **æªæ–½**ï¼šä¸¥æ ¼çš„éªŒè¯æœºåˆ¶ï¼Œè¿ç§»åè‡ªåŠ¨æ£€æŸ¥

### 4. å›æ»šé£é™©
- **æªæ–½**ï¼šä¿ç•™å®Œæ•´çš„è¿ç§»æ—¥å¿—å’Œå›æ»šè„šæœ¬

---

## ğŸ¯ æ€»ç»“

**æ¨èæ–¹æ¡ˆ**ï¼š**æ¸è¿›å¼é‡æ„ + åŒå†™ç­–ç•¥**

1. **ç«‹å³è¡ŒåŠ¨**ï¼šå»ºç«‹æ ‡å‡†è§„èŒƒå’Œé…ç½®
2. **çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰**ï¼šæ•°æ®åˆ†æå’Œè¿ç§»å‡†å¤‡
3. **ä¸­æœŸï¼ˆ2-4å‘¨ï¼‰**ï¼šåˆ†æ‰¹è¿ç§»æ•°æ®
4. **é•¿æœŸï¼ˆæŒç»­ï¼‰**ï¼šä¼˜åŒ–æŸ¥è¯¢é€»è¾‘ï¼Œæ¸…ç†åºŸå¼ƒå­—æ®µ

**å…³é”®æˆåŠŸå› ç´ **ï¼š
- âœ… å……åˆ†çš„æµ‹è¯•å’ŒéªŒè¯
- âœ… æ¸è¿›å¼è¿ç§»ï¼Œé¿å…å¤§è§„æ¨¡æ”¹åŠ¨
- âœ… ä¿æŒå‘åå…¼å®¹
- âœ… å®Œå–„çš„æ–‡æ¡£å’Œè§„èŒƒ

---

## ğŸ“š ç›¸å…³èµ„æº

- [æ•°æ®ç»Ÿè®¡æŠ¥å‘Š](./category_grammar_analysis.md)
- [è¿ç§»è„šæœ¬ç¤ºä¾‹](./migrate_category_to_grammarpoint.js)
- [æŸ¥è¯¢é€»è¾‘ç¤ºä¾‹](./miniprogram/utils/cloudDataLoader.js)
