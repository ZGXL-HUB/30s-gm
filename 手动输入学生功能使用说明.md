# 手动输入学生姓名功能使用说明 ✍️

## 功能概述

手动输入学生姓名功能允许教师通过文本输入的方式批量添加学生到班级，无需依赖Excel文件上传。这是一个更简单、更可靠的学生导入方式。

---

## 功能特点

✅ **简单易用** - 无需准备Excel文件，直接输入即可
✅ **批量导入** - 一次性导入多个学生
✅ **剪贴板支持** - 支持从剪贴板粘贴学生名单
✅ **实时预览** - 输入后即时显示解析结果
✅ **智能验证** - 自动验证学生姓名格式
✅ **容错能力强** - 自动忽略空行和格式错误

---

## 使用步骤

### 步骤1: 打开班级详情
1. 在"班级列表"标签页中，点击任意班级卡片
2. 在弹出的"班级学生名单"弹窗中
3. 点击底部的 **"✍️ 手动输入学生"** 按钮

### 步骤2: 输入学生姓名
有两种输入方式：

#### 方式A: 直接输入
1. 在文本框中输入学生姓名
2. **每个学生姓名占一行**
3. 例如：
   ```
   张小明
   李小红
   王小华
   赵小丽
   陈小强
   ```

#### 方式B: 从剪贴板粘贴
1. 先复制包含学生姓名的文本（如从Excel、Word复制）
2. 点击 **"📋 从剪贴板粘贴"** 按钮
3. 系统会自动将剪贴板内容粘贴到文本框

### 步骤3: 解析学生名单
1. 点击 **"✓ 解析学生名单"** 按钮
2. 系统会自动解析并验证学生姓名
3. 在预览区域查看解析结果

### 步骤4: 确认导入
1. 在弹出的确认对话框中检查学生名单
2. 如果名单正确，点击 **"确认导入"**
3. 如果需要修改，点击 **"重新输入"** 返回编辑

### 步骤5: 验证导入结果
1. 等待导入完成（会显示"成功导入 X 名学生"）
2. 关闭弹窗
3. 查看班级卡片上的学生人数是否增加
4. 重新打开班级详情，查看学生名单

---

## 输入格式要求

### ✅ 支持的格式

**基本要求：**
- ✅ 每行一个学生姓名
- ✅ 支持中文姓名（如：张小明）
- ✅ 支持英文姓名（如：Tom、Alice）
- ✅ 姓名长度1-20个字符
- ✅ 自动忽略空行

**示例格式：**
```
张小明
李小红
王小华

赵小丽
陈小强
```

### ❌ 不支持的格式

- ❌ 不建议使用数字（如：学生1、学生2）
- ❌ 不建议使用特殊字符
- ❌ 空姓名或过长姓名（超过20字符）

---

## 常见问题

### Q1: 为什么有些学生没有导入？
**A:** 可能原因：
1. 姓名长度超过20个字符
2. 姓名为空或只有空格
3. 网络问题导致保存失败

**解决方法:** 重新输入这些学生，确保姓名符合格式要求

### Q2: 可以一次导入多少学生？
**A:** 理论上没有限制，但建议：
- 一次导入不超过100个学生
- 如果学生很多，可以分批导入

### Q3: 导入后学生人数没有更新？
**A:** 尝试以下方法：
1. 点击"刷新班级"按钮
2. 重新打开班级详情
3. 切换到"学生管理"标签页查看

### Q4: 能否从Excel复制粘贴？
**A:** 可以！步骤如下：
1. 在Excel中选中学生姓名列（不要包含标题）
2. 复制（Ctrl+C）
3. 在小程序中点击"从剪贴板粘贴"按钮
4. 系统会自动处理换行符

### Q5: 误导入了学生怎么办？
**A:** 目前需要：
1. 到"学生管理"标签页
2. 找到误导入的学生
3. 手动删除（功能需要确认是否存在）

---

## 优势对比

### 手动输入 vs Excel上传

| 功能 | 手动输入 | Excel上传 |
|------|---------|-----------|
| 操作难度 | ⭐ 简单 | ⭐⭐⭐ 复杂 |
| 准备时间 | 无需准备 | 需要制作Excel |
| 文件大小限制 | 无限制 | 有限制 |
| 支持剪贴板 | ✅ 支持 | ❌ 不支持 |
| 学生姓名准确性 | ⭐⭐⭐⭐⭐ 高 | ⭐⭐⭐ 中等 |
| 适用场景 | 少量学生 | 大量学生 |

**建议：**
- **50人以下** → 使用手动输入
- **50人以上** → 使用Excel上传（需要先修复Excel解析功能）

---

## 技术支持

如果在使用过程中遇到问题：

1. **查看控制台日志** - 在微信开发者工具中查看错误信息
2. **运行测试脚本** - 使用 `test_manual_input_feature.js` 测试功能
3. **检查网络连接** - 确保云开发环境正常

---

## 更新日志

### v1.0.0 (2025-10-08)
- ✅ 初始版本发布
- ✅ 支持文本输入和剪贴板粘贴
- ✅ 支持实时预览和格式验证
- ✅ 自动保存到云数据库
- ✅ 自动更新班级学生人数

---

**祝您使用愉快！** 🎉
