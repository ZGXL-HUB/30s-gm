# 语法点名称修正对照表

## 问题语法点分析

从本地备份数据 `backup/intermediate_questions_before_migration.js` 的分析结果：

### 1. "固定搭配"

**界面名称**: "固定搭配"
**云数据库**: 可能是 "固定搭配" (25题) ✅

**问题**: 直接匹配失败，模糊匹配找到3题
**原因**: 可能是空格、标点符号等细微差异

### 2. "单复数同形"

**界面名称**: "单复数同形"
**云数据库**: 未找到该名称

**可能的实际名称**:
- "名词综合" (25题)
- "名词复数书写综合" (30题)
- 或者不存在该分类

**建议**: 
- 查看本地备份中是否有"单复数同形"
- 或者映射到"名词综合"

### 3. "语态(被动+八大时态)"

**界面名称**: "语态(被动+八大时态)"
**云数据库**: 未找到该名称

**可能的实际名称**:
- "被动语态" (30题) ✅
- "语态综合" (可能存在)
- "被动写be吗" (30题) ✅

**建议**: 
- 界面改为"被动语态"
- 或在云数据库中添加别名

## 从本地备份验证

从 `analyze_backup_data.js` 的输出：

```
✅ 存在的分类:
   "固定搭配": 25题
   "被动写be吗": 30题
   "被动语态": 30题
   
❌ 不存在的分类:
   "单复数同形": 0题
   "语态(被动+八大时态)": 0题
```

## 📋 建议的修正方案

### 方案A: 修改界面名称（最简单）

修改 `teacher-homework/index.js` 中的 `grammarTopics`:

```javascript
// 名词大类
points: [
  { name: '名词综合', ... },
  { name: '不规则复数', ... },
  { name: '名词复数书写综合', ... },  // 原"单复数同形"
  // ...
]

// 谓语大类  
points: [
  { name: '语态综合', ... },  // 原"语态(被动+八大时态)"
  { name: '被动语态', ... },  // 或者用这个
  // ...
]
```

### 方案B: 云数据库添加别名

在云数据库题目中添加 `aliases` 字段：

```javascript
{
  category: "被动语态",
  aliases: ["语态(被动+八大时态)", "语态综合"],
  // ...
}
```

查询时：
```javascript
where({ 
  $or: [
    { category: grammarPoint },
    { aliases: grammarPoint }
  ]
})
```

### 方案C: 简单映射（最小改动）

只为这3个特殊情况添加映射：

```javascript
// cloudDataLoader.js
const specialMapping = {
  "单复数同形": "名词综合",
  "语态(被动+八大时态)": "被动语态",
  "固定搭配": "固定搭配"  // 如果确认是空格问题
};

const actualCategory = specialMapping[grammarPoint] || grammarPoint;
```

## 🎯 我的建议

**推荐方案C（最小改动）**:

只为这几个特殊情况添加简单映射，其他保持直接查询。

**您想用哪个方案？** 

或者**先运行 `find_exact_category_names.js`** 查看云数据库中的确切名称？
