<!-- æ¯æ—¥ä»»åŠ¡å¡ç‰‡ç»„ä»¶æ¨¡æ¿ -->
<view class="daily-task-card">
  <!-- é¡¶éƒ¨SegmentedControlåˆ‡æ¢æ ï¼ˆè¯­æ³•/ä¹¦å†™ï¼‰ -->
  <view class="segmented-control">
    <view 
      class="segmented-item {{selectedTab === 'è¯­æ³•' ? 'active' : ''}}"
      bindtap="handleTabChange"
      data-index="0"
    >
      è¯­æ³•
    </view>
    <view 
      class="segmented-item {{selectedTab === 'ä¹¦å†™' ? 'active' : ''}}"
      bindtap="handleTabChange"
      data-index="1"
    >
      ä¹¦å†™
    </view>
  </view>
  
  <!-- åŠ¨æ€æ ‡é¢˜ï¼ˆé¢˜é‡+é¢„è®¡æ—¶é—´ï¼‰ -->
  <view class="card-title">
    ä»Šæ—¥{{selectedTab}} {{questionCount}}é¢˜Â·é¢„è®¡{{estimatedTime}}åˆ†é’Ÿ
  </view>
  
  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-text">æ­£åœ¨ç”Ÿæˆæ™ºèƒ½æ¨è...</view>
  </view>
  
  <!-- é¢˜å•å†…å®¹ï¼ˆåˆ‡æ¢æ—¶é‡æ–°æ‹‰å–å»é‡é¢˜ï¼‰ -->
  <view class="question-list" wx:elif="{{currentQuestionList.length > 0}}">
    <view class="question-item" wx:for="{{currentQuestionList}}" wx:key="qid">
      <view class="question-number">ç¬¬{{index + 1}}é¢˜</view>
      <view class="question-text">{{item.text}}</view>
      <view class="question-info">
        <view class="question-category">{{item.grammar_point}}</view>
        <view class="question-difficulty">éš¾åº¦{{item.difficulty_level}}</view>
      </view>
    </view>
  </view>
  
  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:else>
    <view class="empty-icon">ğŸ“š</view>
    <view class="empty-text">æš‚æ— æ¨èé¢˜ç›®</view>
    <view class="empty-desc">è¯·ç¨åå†è¯•æˆ–åˆ·æ–°é‡è¯•</view>
    <view class="refresh-btn" bindtap="refreshQuestions">åˆ·æ–°</view>
  </view>
  
  <!-- åº•éƒ¨æ“ä½œæŒ‰é’® -->
  <view class="action-buttons" wx:if="{{currentQuestionList.length > 0}}">
    <view class="btn secondary" bindtap="refreshQuestions">
      åˆ·æ–°é¢˜ç›®
    </view>
    <view class="btn primary" bindtap="startPractice">
      å¼€å§‹ç»ƒä¹ 
    </view>
  </view>
  
  <!-- æ´»è·ƒå æ¯”ä¿¡æ¯ï¼ˆè°ƒè¯•ç”¨ï¼‰ -->
  <view class="debug-info" wx:if="{{false}}">
    <view class="debug-title">æ´»è·ƒå æ¯”ä¿¡æ¯</view>
    <view class="debug-content">
      è¯­æ³•: {{recentActivityRatio.grammarRatio}}% | 
      ä¹¦å†™: {{recentActivityRatio.writingRatio}}%
    </view>
    <view class="debug-content">
      è¿ç»­å­¦ä¹ : {{continueStudyDays}}å¤© | 
      æ¨èé¢˜é‡: {{getQuestionCountByDay()}}é¢˜
    </view>
  </view>
</view>
