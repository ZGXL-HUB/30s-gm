<!-- æç®€å­¦ç”Ÿç«¯ç•Œé¢ -->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="header">
    <text class="title">æˆ‘çš„ä½œä¸š</text>
    <button class="join-class-btn" bindtap="goToJoinClass">åŠ å…¥ç­çº§</button>
  </view>

  <!-- ä½œä¸šåˆ—è¡¨ -->
  <view class="assignment-list" wx:if="{{!loading}}">
    <view 
      wx:for="{{assignments}}" 
      wx:key="_id" 
      class="assignment-card {{item.isExpired ? 'expired' : ''}}"
    >
      <view class="card-header">
        <text class="assignment-title">{{item.title}}</text>
        <text class="assignment-status {{item.status}}">{{item.statusText}}</text>
      </view>
      
      <view class="card-info">
        <text class="info-text" wx:if="{{item.status === 'pending'}}">
          å‰©ä½™ï¼š{{formatRemainingTime(item.deadline)}}
        </text>
        <text class="info-text" wx:if="{{item.status === 'completed'}}">
          å¾—åˆ†ï¼š{{item.score}}/{{item.totalScore}} ({{item.accuracy}}%)
        </text>
      </view>
      
      <view class="card-action">
        <button 
          class="action-btn" 
          bindtap="startAssignment" 
          data-id="{{item._id}}"
          wx:if="{{item.canSubmit}}"
        >
          å¼€å§‹ç»ƒä¹ 
        </button>
        <button 
          class="action-btn completed" 
          bindtap="viewAssignmentResult" 
          data-id="{{item._id}}"
          wx:if="{{item.status === 'completed'}}"
        >
          æŸ¥çœ‹ç»“æœ
        </button>
        <button 
          class="action-btn disabled" 
          wx:if="{{item.isExpired && item.status !== 'completed'}}"
        >
          å·²è¿‡æœŸ
        </button>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{assignments.length === 0}}">
      <text class="empty-icon">ğŸ“š</text>
      <text class="empty-text">è¿˜æ²¡æœ‰ä½œä¸š</text>
      <text class="empty-desc">ç­‰å¾…è€å¸ˆå¸ƒç½®ä½œä¸š</text>
    </view>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æµ®åŠ¨åé¦ˆæŒ‰é’® -->
  <floating-feedback show="{{true}}" />
</view>
