<!-- è¡¨æ ¼è¿›åº¦å¯è§†åŒ–ç»„ä»¶ -->
<view class="table-progress-container" wx:if="{{showProgress && tableProgress.totalCells > 0}}">
  <!-- æ€»ä½“è¿›åº¦ -->
  <view class="progress-section">
    <view class="progress-header">
      <text class="progress-title">ğŸ“Š ç»ƒä¹ è¿›åº¦</text>
      <text class="progress-percentage">{{tableProgress.completionRate}}%</text>
    </view>
    
    <view class="progress-bar-container">
      <view class="progress-bar">
        <view class="progress-fill" style="width: {{tableProgress.completionRate}}%"></view>
      </view>
    </view>
    
    <view class="progress-stats">
      <view class="stat-item">
        <text class="stat-label">å·²å®Œæˆ</text>
        <text class="stat-value">{{tableProgress.completedCells}}/{{tableProgress.totalCells}}</text>
      </view>
      <view class="stat-item">
        <text class="stat-label">æ­£ç¡®ç‡</text>
        <text class="stat-value">{{tableProgress.accuracyRate}}%</text>
      </view>
    </view>
  </view>

  <!-- è¯¦ç»†ç»Ÿè®¡ -->
  <view class="detailed-stats" wx:if="{{showDetailedStats}}">
    <view class="stats-grid">
      <view class="stat-card correct">
        <view class="stat-icon">âœ…</view>
        <view class="stat-content">
          <text class="stat-number">{{tableProgress.correctCells}}</text>
          <text class="stat-desc">æ­£ç¡®</text>
        </view>
      </view>
      
      <view class="stat-card wrong">
        <view class="stat-icon">âŒ</view>
        <view class="stat-content">
          <text class="stat-number">{{tableProgress.completedCells - tableProgress.correctCells}}</text>
          <text class="stat-desc">é”™è¯¯</text>
        </view>
      </view>
      
      <view class="stat-card pending">
        <view class="stat-icon">â³</view>
        <view class="stat-content">
          <text class="stat-number">{{tableProgress.totalCells - tableProgress.completedCells}}</text>
          <text class="stat-desc">å¾…å®Œæˆ</text>
        </view>
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="progress-actions">
    <button class="action-btn toggle-stats" bindtap="toggleDetailedStats">
      <text class="btn-icon">{{showDetailedStats ? 'ğŸ“‰' : 'ğŸ“ˆ'}}</text>
      <text class="btn-text">{{showDetailedStats ? 'ç®€åŒ–æ˜¾ç¤º' : 'è¯¦ç»†ç»Ÿè®¡'}}</text>
    </button>
    
    <button class="action-btn reset-progress" bindtap="resetTableProgress" wx:if="{{tableProgress.completedCells > 0}}">
      <text class="btn-icon">ğŸ”„</text>
      <text class="btn-text">é‡ç½®è¿›åº¦</text>
    </button>
  </view>
</view>
