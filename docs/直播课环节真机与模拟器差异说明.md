# 直播课「第一课」真机从第六环节开始的原因与处理

## 现象

- **微信开发者工具（模拟器）**：进入第一课时，从**第一环节**开始。
- **手机扫码预览 / 真机调试**：进入第一课时，从**第六环节**开始。

## 原因说明（不是 1–5 环节在真机无法显示）

第一到第五环节在真机上**可以正常显示**。差异来自**进度记忆方式**：

1. **进入活动首页时**，小程序会计算「当前第一个未完成的环节」，并**自动跳转**到该环节。
2. **完成状态保存在手机本地**（`wx.setStorageSync`），包括：
   - 第一环节·真题预练
   - 第二环节·标志词识别
   - 第三环节·复数形式识别
   - 第四环节·正误判断
   - 第五环节·书写名词复数
   - 等等
3. **模拟器**：本地存储经常是空的（或与真机不同），所以没有「已完成」记录，第一个未完成就是**第一环节**。
4. **真机**：如果之前在这台手机上用扫码/预览做过第一到第五环节，本地已经存了完成记录，所以第一个未完成就变成**第六环节**。

因此：真机从第六环节开始，是因为**本地记住了你之前已完成前五个环节**，属于「继续未完成进度」的设计，而不是 1–5 在真机不能显示。

## 解决办法

### 方法一：在「本课已全部完成」页点「从第一环节重新开始」（推荐）

当本课全部做完后，会进入「本课已全部完成」页面，可再次练习各环节。该页已增加按钮：

- **从第一环节重新开始**：会清除本课在**本机**的进度，并自动跳转到第一环节。

在真机上进入第一课 → 若直接进到第六环节，可先点「返回」或从课程列表再进一次，若本课已全部完成过，会进入上述页面，再点「从第一环节重新开始」即可从第一环节再走一遍。

### 方法二：扫码/链接带 `restart=1`（从第一环节重新开始）

进入活动首页时若带上参数 `restart=1`，会先清除本课本地进度，再按「第一个未完成」跳转，因此会从第一环节开始。

示例路径（在分享、小程序码或调试时使用）：

```
/pages/live/activity-index/index?activityId=lesson1&restart=1
```

适合：需要让用户/测试每次都从第一环节开始的场景。

### 方法三：清除小程序本地数据（慎用）

在手机微信中：

1. 发现 → 小程序 → 找到本小程序
2. 长按或从设置进入 → 删除 / 清除数据

清除后，本机所有课的进度都会丢失，再次进入会从第一环节开始。仅在做「全新体验」测试时建议使用。

## 小结

| 现象           | 原因                     | 处理方式                                   |
|----------------|--------------------------|--------------------------------------------|
| 真机从第六环节开始 | 真机本地已有 1–5 环节完成记录 | 用「从第一环节重新开始」或带 `restart=1` 的链接 |

第一到第五环节在真机上可以正常显示；若希望真机也从第一环节开始，按上面任一方法清除或绕过本地进度即可。
